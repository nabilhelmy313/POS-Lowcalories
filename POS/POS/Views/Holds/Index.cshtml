@model HoldVM

<div class="container my-4">
    <div class="row bg-white radius mx-2 py-3">
        <div class="col-lg-8 d-flex justify-content-center align-items-center">
            <form asp-action="Index" method="get" class="search-btn w-100 text-center">
                <button type="submit" class="btn bg-gradient text-white radius m-2 search" style="padding: 12px; vertical-align:0;">search customer</button>
                <input asp-for="CustPhone" class="form-control border-gradient d-inline-block w-50 radius py-4" placeholder="customer number">
            </form>
        </div>

    </div>
</div>


<section id="user-table">
    <div class="container pb-5">
        <table class="table text-center">
            <thead class="text-white">

                <tr>
                    <th>Order Number</th>
                    <th>Order Type</th>
                    <th>Customer Phone</th>
                    <th>Status</th>
                    <th>Remainin Time</th>
                    <th>Edit</th>
                    <th>Cancel Order</th>
                </tr>
            </thead>
            <tbody class="text-muted" id="orders">

                @foreach (var item in Model.Orders)
                {
                    var y = item.DiliveryTime.TimeOfDay;
                    var alltime = item.OrderDate.Add(y - item.OrderDate.TimeOfDay);
                    var remain = alltime.TimeOfDay - item.OrderDate.TimeOfDay;

                    <tr>
                        <td data-label="Order Number"># @item.Id</td>
                        <td data-label="Order Type">@item.Type</td>
                        <td data-label="Customer Phone">@item.CustPhone</td>
                        <td data-label="Status">
                            @if (item.Status == 0)
                            {
                                <div>HOOLDING</div>
                            }
                            @if (item.Status == 1)
                            {
                                <div>PRAPERATION</div>

                            }
                        </td>
                        <td data-label="Remainin Time">
                            @if (item.Status == 0)
                            {
                                <div>--------</div>
                            }
                            @if (item.Status == 1)
                            {
                                <div>@remain.Hours : @remain.Minutes</div>
                            }

                        </td>
                        <td data-label="Edit">
                            <a asp-action="EditOrder" asp-route-Id="@item.Id"><i class="far fa-edit pointer text-info"></i></a>
                        </td>
                        <td data-label="Edit">
                            <a asp-action="CancelOrder" asp-route-Id="@item.Id"><i class="fas fa-minus-circle text-danger"></i></a>
                        </td>
                    </tr>
                }

            </tbody>
        </table>
    </div>
</section>
<script src="~/layout/js/jquery-3.5.1.min.js"></script>
<script>

</script>
